<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>For You</title>

    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-size: cover;
            background-position: center;
            transition: background-image 0.8s ease-in-out;
            color: #333;
            background-image: url('pic1.jpg'); /* DEFAULT IMAGE */
        }

        .card {
            background: rgba(255,255,255,0.85);
            padding: 30px 40px;
            border-radius: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            max-width: 400px;
            animation: fadeIn 1s ease;
        }

        h1 { color: #e75480; }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 10px;
            background: #e75480;
            color: white;
            cursor: pointer;
            margin: 10px;
            font-size: 1rem;
            transition: 0.3s;
        }

        button:hover { transform: scale(1.06); }

        .back-btn {
            background: gray;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body>

<div class="card">
    <h1>Let’s Play a Little Game</h1>

    <p id="text">Hey Gunjan, I have a few questions for you… ❤️</p>

    <div id="question-area">
        <p id="question"></p>
        <button onclick="handleAnswer('a')" id="btnA">Offcourse</button>
        <button onclick="handleAnswer('b')" id="btnB">Nahi mujhe kuch yaad nahi hai</button>
        <br>
        <button class="back-btn" onclick="goBack()">⬅ Go Back</button>
    </div>
</div>

<script>
    /* -----------------------------------
       CONFIG: Map answerId → background image
    --------------------------------------*/
    const imageMap = {
        "q1a": "pic8_lonavala.jpeg",
        "q1b": "pic8_lonavala.jpeg",
        "q2a": "pic7_india.jpeg",
        "q2b": "pic7_india.jpeg",
        "q3a": "pic6_indore.jpeg",
        "q3b": "pic6_indore.jpeg"
    };

    /* -----------------------------
       QUESTION FLOW LOGIC
    ------------------------------*/
    const flow = {
        step1: {
            question: "Do you remember the first time we met in Lonavala?",
            next: { a: "step2a", b: "step2b" }
        },
        step2a: {
            question: "I knew you have a great memory! Do you remember the time we spent at India Gate?",
            next: { a: "step3", b: "step3" }
        },
        step2b: {
            question: "Ohh ho, bari weak memory hai! Chalo, do you remember the time we spent at India Gate?",
            next: { a: "step3", b: "step3" }
        },
        step3: {
            question: "Do you remember something of the place where you are right now?",
            next: { 
                a: "finalA", 
                b: "finalB" 
            }
        },
        finalA: {
            message: "I know you love me and remember each and every moment. Hold me like this only..."
        },
        finalB: {
            message: "Itna gussa ho mujhse?"
        }
    };

    let history = [];
    let currentStep = "step1";

    document.getElementById("question").textContent = flow[currentStep].question;

    /* -----------------------------
       HANDLE ANSWER CLICK
    ------------------------------*/
    function handleAnswer(ans) {
        history.push(currentStep);

        // Change background
        document.body.style.backgroundImage =
            `url('${imageMap[currentStep + ans] || "pic9__car.jpeg"}')`;

        const nextStep = flow[currentStep].next[ans];

        // If final page
        if (nextStep === "finalA" || nextStep === "finalB") {
            document.getElementById("question-area").innerHTML = `
                <p style="font-size:1.3rem; white-space:pre-line;">
                    ${flow[nextStep].message}
                </p>
                <button class="back-btn" onclick="goBack()">⬅ Go Back</button>
            `;
            currentStep = nextStep;
            return;
        }

        // Normal next step
        currentStep = nextStep;
        document.getElementById("question").textContent = flow[currentStep].question;
    }

    /* -----------------------------
       GO BACK FUNCTION
    ------------------------------*/
    function goBack() {
        if (history.length === 0) return;

        currentStep = history.pop();

        document.getElementById("question-area").innerHTML = `
            <p id="question">${flow[currentStep].question}</p>
            <button onclick="handleAnswer('a')" id="btnA">Offcourse</button>
            <button onclick="handleAnswer('b')" id="btnB">Nahi mujhe kuch yaad nahi hai</button>
            <br>
            <button class="back-btn" onclick="goBack()">⬅ Go Back</button>
        `;
    }
</script>

</body>
</html>
